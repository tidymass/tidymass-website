
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    [{"authors":null,"categories":null,"content":"","date":-62135596800,"expirydate":-62135596800,"kind":"term","lang":"en","lastmod":-62135596800,"objectID":"6c8f83b353f9cd5494363c4d459486cf","permalink":"https://www.tidymass.org/author/chuchu-wang/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/author/chuchu-wang/","section":"authors","summary":"","tags":null,"title":"Chuchu Wang","type":"authors"},{"authors":null,"categories":null,"content":"I am a Postdoctoral Research Fellow in Prof. Michael Snyderâ€™s lab at Stanford University School of Medicine. My overarching research interests are bioinformatics algorithms development for multi-omics data, and their application to precision medicine. Specifically, I am interested in bioinformatics algorithm development, including 1) Comprehensive analysis workflow and deep learning for LC-MS data, 2) Metabolic network analysis, 3) Wearable and multi-omics data integration, and 4) microbiome and metabolome data integration. I also employed the developed bioinformatics algorithms as a unique systems biology approach to study the potential biomarkers and mechanisms of 1) pregnancy and related diseases, 2) aging and related diseases, and 3) cancer. More tools and projects I developed can be found in the Projects part.\nNow I am also the member of Stanford Chinese Postdoctral Association (SCPA). Feel free to let me know if you want to join us and work for the amazing community!\nğŸ¶ ğŸ« ğŸˆ¸ ğŸ˜„ ğŸ‘Š âœŠ ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦ ğŸ¼ ğŸŒ ğŸ‰ ğŸ‡¨ğŸ‡³\n","date":-62135596800,"expirydate":-62135596800,"kind":"term","lang":"en","lastmod":-62135596800,"objectID":"2525497d367e79493fd32b198b28f040","permalink":"https://www.tidymass.org/author/xiaotao-shen/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/author/xiaotao-shen/","section":"authors","summary":"I am a Postdoctoral Research Fellow in Prof. Michael Snyderâ€™s lab at Stanford University School of Medicine. My overarching research interests are bioinformatics algorithms development for multi-omics data, and their application to precision medicine.","tags":null,"title":"Xiaotao Shen","type":"authors"},{"authors":null,"categories":null,"content":"","date":-62135596800,"expirydate":-62135596800,"kind":"term","lang":"en","lastmod":-62135596800,"objectID":"2b3f722f080946000c7677d444fad4bf","permalink":"https://www.tidymass.org/author/yan-hong/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/author/yan-hong/","section":"authors","summary":"","tags":null,"title":"Yan Hong","type":"authors"},{"authors":null,"categories":null,"content":"You can install tidymass using different methods.\nUsing the methods from tidymass.org.\nFrom GitHub.\nFrom GitLab.\nFrom Gitee (ç äº‘).\n","date":1693008000,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1693008000,"objectID":"3a4ad83f0eb0486386a1a310701ecfa0","permalink":"https://www.tidymass.org/docs/chapter1/","publishdate":"2023-08-26T00:00:00Z","relpermalink":"/docs/chapter1/","section":"docs","summary":"How to install `tidymass`","tags":null,"title":"Installation","type":"book"},{"authors":null,"categories":null,"content":"About massdataset provide the mass_dataset class which is specifically developed and designed to organize the rectangular metabolomics data sets into a standard structure. massdataset package also provide a lot of base processing functions to process and operate the mass_dataset class. In additional, the mass_dataset class can be processed by all the packages from tidymass.\nInstallation You can install massdataset from GitLab.\nif(!require(remotes)){ install.packages(\u0026#34;remotes\u0026#34;) } remotes::install_gitlab(\u0026#34;jaspershen/massdataset\u0026#34;) or GitHub\nremotes::install_github(\u0026#34;tidymass/massdataset\u0026#34;) Citation If you use massdataset in your publications, please cite this paper:\nShen, X., Yan, H., Wang, C. et al. TidyMass an object-oriented reproducible analysis framework for LCâ€“MS data. Nat Commun 13, 4365 (2022).\nLink\n","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"848d75a615c6173d8d861f898a3a67ce","permalink":"https://www.tidymass.org/docs/chapter2/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/docs/chapter2/","section":"docs","summary":"massDataset package to organize microbiome data.","tags":null,"title":"massDataset","type":"book"},{"authors":null,"categories":null,"content":"About massconverter can be used to convert mass spectrometry data to other format data based on msconvert docker image.\nNow this is only supports mac or Linux OS.\nMore information can be found here.\nInstallation You can install massconverter from GitLab\nif(!require(remotes)){ install.packages(\u0026#34;remotes\u0026#34;) } remotes::install_gitlab(\u0026#34;jaspershen/massconverter\u0026#34;) or GitHub\nremotes::install_github(\u0026#34;tidymass/massconverter\u0026#34;) ","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"10afc9594f87bad3f07dc64799a1d2a7","permalink":"https://www.tidymass.org/docs/chapter3/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/docs/chapter3/","section":"docs","summary":"Data format converter","tags":null,"title":"Data format converter","type":"book"},{"authors":null,"categories":null,"content":"About massprocesser is a R package which is used for untargeted metabolomics raw data processing and analysis.\n","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"25679eb65c0e8dfb7e8ace4c60fe07cc","permalink":"https://www.tidymass.org/docs/chapter4/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/docs/chapter4/","section":"docs","summary":"Raw data processing","tags":null,"title":"Raw data processing","type":"book"},{"authors":null,"categories":null,"content":"About ","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"b19ef890711f7ce8221ae9b15469c412","permalink":"https://www.tidymass.org/docs/chapter5/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/docs/chapter5/","section":"docs","summary":"Explore data","tags":null,"title":"Explore data","type":"book"},{"authors":null,"categories":null,"content":"About ","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"f9210003ef0c1463a1512d31a898cf50","permalink":"https://www.tidymass.org/docs/chapter6/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/docs/chapter6/","section":"docs","summary":"Data cleaning","tags":null,"title":"Data cleaning","type":"book"},{"authors":null,"categories":null,"content":"Introduction In tidyMass, metid package is used for metabolite identification based on in-house database and public database based on accurate mass (m/z), retention time (RT) and/or MS2 spectra.\nCitation If you use metid in your publications, please cite this paper:\nXiaotao Shen, Si Wu, Liang Liang, Songjie Chen, Kevin Contrepois, Zheng-Jiang Zhu*, Michael Snyder* (Corresponding Author). metID: A R package for automatable compound annotation for LCâˆ’MS-based data. Bioinformatics, btab583, https://doi.org/10.1093/bioinformatics/btab583\nShen, X., Yan, H., Wang, C. et al. TidyMass an object-oriented reproducible analysis framework for LCâ€“MS data. Nat Commun 13, 4365 (2022). Weblink\nThanks very much!\n","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"f2bcc3d997031c983e1fdc772249e4aa","permalink":"https://www.tidymass.org/docs/chapter7/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/docs/chapter7/","section":"docs","summary":"Metabolite annotation","tags":null,"title":"Metabolite annotation","type":"book"},{"authors":null,"categories":null,"content":"About ","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"fa36650ac5d0667eb1c50053d65db930","permalink":"https://www.tidymass.org/docs/chapter8/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/docs/chapter8/","section":"docs","summary":"Statistical analysis","tags":null,"title":"Statistical analysis","type":"book"},{"authors":null,"categories":null,"content":"About ","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"7963765b8b3409c4fa6858b91b029e4a","permalink":"https://www.tidymass.org/docs/chapter9/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/docs/chapter9/","section":"docs","summary":"Pathway enrichment","tags":null,"title":"Pathway enrichment","type":"book"},{"authors":null,"categories":null,"content":"About ","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"0c116b471a4cb01cc1f3311f3c762a47","permalink":"https://www.tidymass.org/docs/chapter10/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/docs/chapter10/","section":"docs","summary":"Whole workflow using tidymass","tags":null,"title":"Whole workflow using tidymass","type":"book"},{"authors":null,"categories":null,"content":"Here, you can learn how to use tidyMass to do the data processing and analysis for the metabolomics data. It contains several parts.\nIf you are new to R or the tidyverse We recommend that you start by learning some basics about R and the tidyverse first, then return here when you feel ready. Here are some resources to start learning:\nFinding Your Way To R, from the RStudio Education team.\nLearn the tidyverse, from the tidyverse team.\nPart 1. Installation You can learn how to install tidymass, and update it. You can also find here how to download the docker version of tidymass and build your own docker image based on tidymass.\nPart 2. Demo data You can find here how to download the demo data and create mass_dataset class by yourself.\nPart 3. Data processing and analysis using tidymass Here, you can learn how to use tidymass for data processing and analysis, from data converting to biological function mining.\nPart 4. Case study The code, data and docker image of case study in our manuscript are provided here.\nğŸ‘‰ Get Started with Chapter 1 ","date":1693008000,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1693008000,"objectID":"4cdd37113783e47641dd300543c94e1b","permalink":"https://www.tidymass.org/docs/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/docs/","section":"docs","summary":"Here, you can learn how to use tidyMass to do the data processing and analysis for the metabolomics data. It contains several parts.\nIf you are new to R or the tidyverse We recommend that you start by learning some basics about R and the tidyverse first, then return here when you feel ready.","tags":null,"title":"Preface","type":"book"},{"authors":null,"categories":null,"content":"If you have in-house standards which have been acquired with MS2 spectra data, then you can construct the in-house MS2 spectra databases using the metid package.\nThere are no specific requirements on how to run the LC/MS data for users. As the in-house database construction in metid is used for users to get the in-house databases for themselves (including m/z, retention time and MS/MS spectra of metabolites, for level 1 annotation (Sumner et al., 2007)), so the users just need to run the standards using the same column, LC-gradient, and MS settings with their real samples in the lab\nData preparation Firstly, please transform your raw standard MS data (positive and negative modes) to mzXML format using ProteoWizard. The parameter setting is shown in the figure below:\nData organization Secondly, please organize your standard information as a table, and output it in a csv or xlsx format. The format of standard information can refer to our demo data in demoData package.\nFrom column 1 to 11, the columns are â€œLab.IDâ€, â€œCompound.nameâ€, â€œmzâ€, â€œRTâ€, â€œCAS.IDâ€, â€œHMDB.IDâ€, â€œKEGG.IDâ€, â€œFormulaâ€, â€œmz.posâ€, â€œmz.negâ€, â€œSubmitterâ€, respectively. It is OK if you have other information for the standards. As the demo data show, there are other additional information, namely â€œFamilyâ€, â€œSub.pathwayâ€ and â€œNoteâ€.\nLab.ID: No duplicated.\nmz: Accurate mass of compounds.\nRT: Retention time, unit is second.\nmz.pos: Mass to change ratio of compound in positive mode, for example, M+H. You can set it as NA.\nmz.neg: Mass to change ratio of compound in negative mode, for example, M-H. You can set it as NA.\nSubmitter: The name of person or organization. You can set it as NA.\nThen create a folder and put your mzXML format datasets (positive mode in â€˜POSâ€™ folder and negative mode in â€˜NEGâ€™ folder) and compound information in it. The mzXML file should have the collision energy in the name of each file. For example, test_NCE25.mzXML.\nThe names of the mzXML files should be like this: xxx_NCE25.mzXML.\nRun construct_database() function Here we use the demo data from demoData package to show how to use the construct_database() function to construct database.\nWe first prepare dataset.\nDownload the data here. and then put all of them in the â€œdatabase_constructionâ€ folder.\nThen there will be a folder named as database_construction in your work directory like below figure shows:\n![](/docs/chapter7/figures/Screen Shot 2021-02-26 at 9.22.52 PM.png) Then we run construct_database() function and then we can get the database.\nlibrary(metid) new.path \u0026lt;- file.path(\u0026#34;./database_construction\u0026#34;) test.database \u0026lt;- construct_database( path = new.path, version = \u0026#34;0.0.1\u0026#34;, metabolite.info.name = \u0026#34;metabolite.info_RPLC.csv\u0026#34;, source = \u0026#34;Michael Snyder lab\u0026#34;, link = \u0026#34;http://snyderlab.stanford.edu/\u0026#34;, creater = \u0026#34;Xiaotao Shen\u0026#34;, email = \u0026#34;shenxt1990@163.com\u0026#34;, rt = TRUE, mz.tol = 15, rt.tol = 30, threads = 3 ) The arguments of construct_database() can be found by ?construct_database().\ntest.database is a databaseClass object, you can print it to see its information.\ntest.database Note: test.database is only a demo database (metIdentifyClass object). We will donâ€™t use it for next metabolite identification. Then please save this database in you local folder, please note that the saved file name and database name must be same. For example:\nsave(test.database, file = \u0026#34;test.database\u0026#34;) If you save the test.database as a different name, it will be a error when you use it.\nMS1 database If you do not have MS2 data, you can also use construct_database() function to construct MS1 database.\nSession information sessionInfo() #\u0026gt; R version 4.3.0 (2023-04-21) #\u0026gt; Platform: x86_64-apple-darwin20 (64-bit) #\u0026gt; Running under: macOS Ventura 13.5.1 #\u0026gt; #\u0026gt; Matrix products: default #\u0026gt; BLAS: /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRblas.0.dylib #\u0026gt; LAPACK: /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRlapack.dylib; LAPACK version 3.11.0 #\u0026gt; #\u0026gt; locale: #\u0026gt; [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8 #\u0026gt; #\u0026gt; time zone: America/Los_Angeles #\u0026gt; tzcode source: internal #\u0026gt; #\u0026gt; attached base packages: #\u0026gt; [1] stats graphics grDevices utils datasets methods base #\u0026gt; #\u0026gt; loaded via a namespace (and not attached): #\u0026gt; [1] digest_0.6.31 R6_2.5.1 bookdown_0.34 fastmap_1.1.1 #\u0026gt; [5] xfun_0.39 blogdown_1.18.1 cachem_1.0.8 knitr_1.43 #\u0026gt; [9] htmltools_0.5.5 rmarkdown_2.22 cli_3.6.1 sass_0.4.6 #\u0026gt; [13] jquerylib_0.1.4 compiler_4.3.0 rprojroot_2.0.3 here_1.0.1 #\u0026gt; [17] rstudioapi_0.14 tools_4.3.0 evaluate_0.21 bslib_0.5.0 #\u0026gt; [21] yaml_2.3.7 jsonlite_1.8.5 rlang_1.1.1 ","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"bf43e4b3f11602de7fc8ffbe87d77d8e","permalink":"https://www.tidymass.org/docs/chapter7/1-in_house_database/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/docs/chapter7/1-in_house_database/","section":"docs","summary":"If you have in-house standards which have been acquired with MS2 spectra data, then you can construct the in-house MS2 spectra databases using the metid package.\nThere are no specific requirements on how to run the LC/MS data for users.","tags":null,"title":"Construct in-house MS2 datbase","type":"book"},{"authors":null,"categories":null,"content":"getwd() #\u0026gt; [1] \u0026#34;/Users/xiaotaoshen/tidymass/tidymass-website/content/docs/chapter3\u0026#34; Data preparation Please place the raw data in one folder according to MS1 and MS2. Then you can convert them using Proteowizard or massconverter package.\nProteowizard Convert MS1 data to mzXML format data Just convert data into mzXML format data according to the parameters below:\nConvert MS2 data to mzXML or mgf format data Just convert data into mzXML or mgf format data according to the parameters below:\nConvert data using massconverter massconverter is a package in tidymass project which can be used to convert mass spectrometry raw data based on docker image of pwid. See more information here.\nMore information can be found here.\nSession information sessionInfo() #\u0026gt; R version 4.3.0 (2023-04-21) #\u0026gt; Platform: x86_64-apple-darwin20 (64-bit) #\u0026gt; Running under: macOS Ventura 13.5.1 #\u0026gt; #\u0026gt; Matrix products: default #\u0026gt; BLAS: /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRblas.0.dylib #\u0026gt; LAPACK: /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRlapack.dylib; LAPACK version 3.11.0 #\u0026gt; #\u0026gt; locale: #\u0026gt; [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8 #\u0026gt; #\u0026gt; time zone: America/Los_Angeles #\u0026gt; tzcode source: internal #\u0026gt; #\u0026gt; attached base packages: #\u0026gt; [1] stats graphics grDevices utils datasets methods base #\u0026gt; #\u0026gt; loaded via a namespace (and not attached): #\u0026gt; [1] digest_0.6.31 R6_2.5.1 codetools_0.2-19 bookdown_0.34 #\u0026gt; [5] fastmap_1.1.1 xfun_0.39 blogdown_1.18.1 cachem_1.0.8 #\u0026gt; [9] knitr_1.43 htmltools_0.5.5 rmarkdown_2.22 cli_3.6.1 #\u0026gt; [13] sass_0.4.6 jquerylib_0.1.4 compiler_4.3.0 rprojroot_2.0.3 #\u0026gt; [17] here_1.0.1 rstudioapi_0.14 tools_4.3.0 evaluate_0.21 #\u0026gt; [21] bslib_0.5.0 yaml_2.3.7 jsonlite_1.8.5 rlang_1.1.1 ","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"e9d60f22028ae695d18f45bd76a5c907","permalink":"https://www.tidymass.org/docs/chapter3/1-data_convert/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/docs/chapter3/1-data_convert/","section":"docs","summary":"getwd() #\u003e [1] \"/Users/xiaotaoshen/tidymass/tidymass-website/content/docs/chapter3\" Data preparation Please place the raw data in one folder according to MS1 and MS2. Then you can convert them using Proteowizard or massconverter package.\nProteowizard Convert MS1 data to mzXML format data Just convert data into mzXML format data according to the parameters below:","tags":null,"title":"Convert raw data to mzXML/mgf","type":"book"},{"authors":null,"categories":null,"content":" If you donâ€™t want to use the massprocesser for raw data processing, you can absolutely use other tools (mzMine or MS-DIAL). Then you can just use the functions from massdataset convert results from them to mass_dataset class.\nmzMine feature table to mass_dataset class We can also directory convert feature table from mzMine to mass_dataset class.\nAn example feature table from mzMine.\nrow ID row m/z row retention time 10232_P4_RE4_01_476.mzXML Peak area 10765_P4_RE9_01_482.mzXML Peak area 10546_P4_RG11_01_515.mzXML Peak area 11035_P4_RB4_01_431.mzXML Peak area 11163_P4_RB11_01_439.mzXML Peak area 13541_P4_RG3_01_506.mzXML Peak area 10712_P4_RH3_01_521.mzXML Peak area 10715_P4_RA4_01_415.mzXML Peak area 11111_P4_RB1_01_428.mzXML Peak area 14153_P4_RH8_01_526.mzXML Peak area 18404_P3_RF6_01_370.mzXML Peak area 16500_P2_RD8_01_209.mzXML Peak area 13917_P4_RA10_01_423.mzXML Peak area 16501_P2_RD9_01_210.mzXML Peak area 14880_P3_RA3_01_290.mzXML Peak area 15581_P2_RD4_01_203.mzXML Peak area 29342_P5_RF3_01_620.mzXML Peak area 15623_P2_RC3_01_187.mzXML Peak area 12262_P1_RE5_01_94.mzXML Peak area 27373_P2_RD5_01_204.mzXML Peak area 31878_P1_RH3_01_131.mzXML Peak area 14563_P1_RE10_01_99.mzXML Peak area 1 108.51790 10.2450500 1389687.3 1401752.8480 1402784.636 1655499.2620 1426946.493 1405055.9660 1301424.669 1662174.681 1669773.721 1292471.387 1401058.637 1255984.4230 1790633.057 1239958.238 1384508.9720 1321642.0710 1342898.3700 1428609.6720 0.0000 1309347.2150 0.0000 0.0000 2 184.98560 10.2452886 824854.7 879329.1425 810711.735 918538.3715 904935.909 863844.4710 813936.417 959157.637 975521.439 819906.655 802451.828 805424.3155 999066.451 797460.926 859813.0540 821147.7515 764305.2440 859406.4050 319453.1235 812621.5885 321342.3140 343921.0690 3 99.51304 10.2443175 779963.5 809016.6085 784838.328 918355.9300 869348.549 825338.7765 757906.488 890287.086 945978.115 779467.920 784715.819 698338.0110 995229.289 690797.471 755029.1590 725875.2240 727123.4860 804957.7900 0.0000 729996.3135 38.4895 0.0000 4 176.97199 10.4564667 3371036.7 3594238.9280 3335427.676 4762133.1830 4446552.344 4146207.5600 3450606.135 4270036.005 4082635.767 3346233.572 3600719.191 2005356.8930 5118346.235 1864347.092 3200536.9310 2686899.6920 2419853.5010 2592535.6610 28303.9595 2038650.7540 83238.3495 83362.9450 6 186.95641 10.4707553 3649387.6 2918579.6220 3566568.107 3498499.8270 4051221.114 3776597.5020 3112944.981 4300303.555 3604041.890 3146833.394 2953320.137 2684677.9820 4608083.237 2684874.606 2989385.9440 2762750.3290 2746261.2350 2481040.2540 100953.5900 2617117.6550 430218.5365 368020.7355 7 108.51790 12.7904623 799957.0 761629.1865 746393.253 899613.6160 790027.581 766091.8005 671510.760 944502.539 971766.830 685098.196 849756.571 542205.9105 1032801.917 545116.523 638052.1745 597619.4125 794760.3465 720902.4030 0.0000 588069.0120 0.0000 0.0000 8 385.34662 8.7025212 381404.3 6020.1035 3911035.531 3824098.1500 1132826.624 1292241.2550 473024.037 382329.680 5004038.667 447072.791 993039.140 232988.1335 670940.829 1643522.567 189589.2720 368272.7385 1522168.9890 3761.5005 3138.2980 406.4040 1945.7660 1093.3310 11 204.96686 10.4736500 3034650.4 3095215.5970 2913787.388 3498463.5280 2065412.106 3052362.2980 2899885.748 3253480.456 2813586.168 2165733.182 3151294.446 1734535.7960 3801018.652 1835146.810 2629039.2080 2245447.8240 1867941.1940 1696709.7900 241538.4625 692056.1335 503664.3570 243778.7115 13 338.34191 7.3854864 303027.7 1006307.2360 999990.067 989577.2140 933082.105 1015312.4380 896753.114 1203514.041 1282705.642 1145951.757 944308.115 2276.4715 1495901.279 2283.024 1180343.8770 2166.8290 422690.5625 6598.3380 6388.0065 912.4290 2231.9690 2095.7065 16 413.37818 9.1966913 210327.6 479.1205 786950.833 26748.8650 139136.774 186177.9465 50304.317 53174.656 628098.439 92549.659 0.000 1465.6875 189928.009 118.002 18649.2475 1474.5875 327756.8435 1630.4785 3405.3670 2328.2380 117.6780 4244.3370 17 182.98522 10.8992432 2475759.3 2404859.6370 2097261.452 1926445.7900 1975307.181 1911980.2000 2000412.664 2078662.325 2282092.591 1125846.391 2219811.100 1716983.2250 2133813.440 1743594.472 1157099.5610 1820168.8180 1539026.4870 1287213.0250 201414.1055 1783111.6970 71438.3140 378266.7025 19 133.97465 10.2386129 337881.9 356574.0285 345000.317 366412.4590 356841.915 359269.9585 357298.280 381860.237 371393.549 346286.859 354765.566 318203.7765 376205.781 322735.553 335437.6750 335219.5500 356433.1045 339622.0840 87.0705 324784.6100 49.0280 72.8740 20 98.51249 10.2775263 477431.3 567034.7915 539719.467 660605.9185 611086.740 585832.5370 551825.500 726973.096 719105.168 470520.271 753253.574 804104.3385 708266.139 705101.297 554312.1600 698823.3445 585776.2505 491097.7935 0.0000 700518.6085 0.0000 0.0000 21 159.96892 10.8786371 2536098.9 2373284.0680 2052707.733 2282023.8930 2348547.121 1958789.6540 1957354.485 1392103.616 2521347.853 2015996.332 2424475.604 1081063.7040 2442871.263 928332.461 711932.2725 1216824.7770 1493565.8430 â€¦","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"e904026a5280393df95ccfbc5a1fed44","permalink":"https://www.tidymass.org/docs/chapter2/1-mass_dataset_other_tools/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/docs/chapter2/1-mass_dataset_other_tools/","section":"docs","summary":"If you donâ€™t want to use the massprocesser for raw data processing, you can absolutely use other tools (mzMine or MS-DIAL). Then you can just use the functions from massdataset convert results from them to mass_dataset class.","tags":null,"title":"Create mass_dataset class from other tools","type":"book"},{"authors":null,"categories":null,"content":"Data preparation We just use the dataset which are from this step.\nlibrary(tidymass) #\u0026gt; Registered S3 method overwritten by \u0026#39;Hmisc\u0026#39;: #\u0026gt; method from #\u0026gt; vcov.default fit.models #\u0026gt; â”€â”€ Attaching packages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidymass 1.0.8 â”€â”€ #\u0026gt; âœ” massdataset 1.0.25 âœ” metid 1.2.28 #\u0026gt; âœ” massprocesser 1.0.10 âœ” masstools 1.0.10 #\u0026gt; âœ” masscleaner 1.0.11 âœ” dplyr 1.1.2 #\u0026gt; âœ” massqc 1.0.6 âœ” ggplot2 3.4.2 #\u0026gt; âœ” massstat 1.0.5 âœ” magrittr 2.0.3 #\u0026gt; âœ” metpath 1.0.8 load(\u0026#34;data_cleaning/POS/object_pos\u0026#34;) load(\u0026#34;data_cleaning/NEG/object_neg\u0026#34;) Change batch to character.\nobject_pos \u0026lt;- object_pos %\u0026gt;% activate_mass_dataset(what = \u0026#34;sample_info\u0026#34;) %\u0026gt;% dplyr::mutate(batch = as.character(batch)) object_neg \u0026lt;- object_neg %\u0026gt;% activate_mass_dataset(what = \u0026#34;sample_info\u0026#34;) %\u0026gt;% dplyr::mutate(batch = as.character(batch)) object_pos #\u0026gt; -------------------- #\u0026gt; massdataset version: 0.99.8 #\u0026gt; -------------------- #\u0026gt; 1.expression_data:[ 10149 x 259 data.frame] #\u0026gt; 2.sample_info:[ 259 x 6 data.frame] #\u0026gt; 259 samples:sample_06 sample_103 sample_11 ... sample_QC_38 sample_QC_39 #\u0026gt; 3.variable_info:[ 10149 x 3 data.frame] #\u0026gt; 10149 variables:M70T73_POS M70T53_POS M70T183_POS ... M923T55_POS M992T641_POS #\u0026gt; 4.sample_info_note:[ 6 x 2 data.frame] #\u0026gt; 5.variable_info_note:[ 3 x 2 data.frame] #\u0026gt; 6.ms2_data:[ 0 variables x 0 MS2 spectra] #\u0026gt; -------------------- #\u0026gt; Processing information #\u0026gt; 3 processings in total #\u0026gt; create_mass_dataset ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 massdataset create_mass_dataset() 2022-02-22 16:37:06 #\u0026gt; process_data ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 massprocesser process_data 2022-02-22 16:36:42 #\u0026gt; mutate ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 massdataset mutate() 2023-08-30 23:09:11 object_neg #\u0026gt; -------------------- #\u0026gt; massdataset version: 0.99.8 #\u0026gt; -------------------- #\u0026gt; 1.expression_data:[ 8804 x 259 data.frame] #\u0026gt; 2.sample_info:[ 259 x 6 data.frame] #\u0026gt; 259 samples:sample_06 sample_103 sample_11 ... sample_QC_38 sample_QC_39 #\u0026gt; 3.variable_info:[ 8804 x 3 data.frame] #\u0026gt; 8804 variables:M70T712_NEG M70T527_NEG M70T587_NEG ... M941T65_NEG M948T641_NEG #\u0026gt; 4.sample_info_note:[ 6 x 2 data.frame] #\u0026gt; 5.variable_info_note:[ 3 x 2 data.frame] #\u0026gt; 6.ms2_data:[ 0 variables x 0 MS2 spectra] #\u0026gt; -------------------- #\u0026gt; Processing information #\u0026gt; 3 processings in total #\u0026gt; create_mass_dataset ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 massdataset create_mass_dataset() 2022-02-22 16:38:19 #\u0026gt; process_data ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 massprocesser process_data 2022-02-22 16:38:02 #\u0026gt; mutate ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 massdataset mutate() 2023-08-30 23:09:11 Data quality assessment before data cleaning Here, we can use the massqc package to assess the data quality.\nWe can just use the massqc_report() function to get a html format quality assessment report.\nmassqc::massqc_report(object = object_pos, path = \u0026#34;data_cleaning/POS/data_quality_before_data_cleaning\u0026#34;) A html format report and pdf figures will be placed in the folder data_cleaning/POS/data_quality_before_data_cleaning/Report.\nThe html report is below:\nNegative mode.\nmassqc::massqc_report(object = object_neg, path = \u0026#34;data_cleaning/NEG/data_quality_before_data_cleaning\u0026#34;) The PCA score plot is used to show the batch effect of positive and negative dataset.\nPositive mode:\nNegative mode:\nWe can see that no matter in positive and negative mode, batch effect is serious.\nRemove noisy metabolic features Remove variables which have MVs in more than 20% QC samples and in at lest 50% samples in control group or case group.\nPositive mode object_pos %\u0026gt;% activate_mass_dataset(what = \u0026#34;sample_info\u0026#34;) %\u0026gt;% dplyr::count(group) #\u0026gt; group n #\u0026gt; 1 Case 110 #\u0026gt; 2 Control 110 #\u0026gt; 3 QC 39 MV percentage in QC samples.\nshow_variable_missing_values(object = object_pos %\u0026gt;% activate_mass_dataset(what = \u0026#34;sample_info\u0026#34;) %\u0026gt;% filter(class == \u0026#34;QC\u0026#34;), percentage = TRUE) + scale_size_continuous(range = c(0.01, 2)) qc_id = object_pos %\u0026gt;% activate_mass_dataset(what = \u0026#34;sample_info\u0026#34;) %\u0026gt;% filter(class == \u0026#34;QC\u0026#34;) %\u0026gt;% pull(sample_id) control_id = object_pos %\u0026gt;% activate_mass_dataset(what = \u0026#34;sample_info\u0026#34;) %\u0026gt;% filter(group == \u0026#34;Control\u0026#34;) %\u0026gt;% pull(sample_id) case_id = object_pos %\u0026gt;% activate_mass_dataset(what = \u0026#34;sample_info\u0026#34;) %\u0026gt;% filter(group == \u0026#34;Case\u0026#34;) %\u0026gt;% pull(sample_id) object_pos = object_pos %\u0026gt;% mutate_variable_na_freq(according_to_samples = qc_id) %\u0026gt;% mutate_variable_na_freq(according_to_samples = control_id) %\u0026gt;% mutate_variable_na_freq(according_to_samples = case_id) head(extract_variable_info(object_pos)) #\u0026gt; variable_id mz rt na_freq na_freq.1 na_freq.2 #\u0026gt; 1 M70T73_POS 70.04074 73.31705 0.28205128 0.6000000 0.4727273 #\u0026gt; 2 M70T53_POS 70.06596 52.78542 0.00000000 0.1454545 0.0000000 #\u0026gt; 3 M70T183_POS 70.19977 182.87981 0.00000000 0.6636364 0.7454545 #\u0026gt; 4 M70T527_POS 70.36113 526.76657 0.02564103 0.1818182 0.3000000 #\u0026gt; 5 M71T695_POS 70.56911 694.84592 0.02564103 0.6454545 0.5545455 #\u0026gt; 6 M71T183_POS 70.75034 182.77790 0.05128205 0.7272727 0.7909091 Remove variables.\nobject_pos \u0026lt;- â€¦","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"cdd1ece0251fb9fdd691d7c2fb30bc38","permalink":"https://www.tidymass.org/docs/chapter6/1-data_cleaning/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/docs/chapter6/1-data_cleaning/","section":"docs","summary":"Data preparation We just use the dataset which are from this step.\nlibrary(tidymass) #\u003e Registered S3 method overwritten by 'Hmisc': #\u003e method from #\u003e vcov.default fit.models #\u003e â”€â”€ Attaching packages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidymass 1.","tags":null,"title":"Data cleaning","type":"book"},{"authors":null,"categories":null,"content":"Data preparation Download the demo data and refer this article.\nWe have positive and negative mode. For each mode, we have control, case and QC groups. Control group have 110 samples, and case group have 110 samples as well.\nPositive mode massprocesser package is used to do the raw data processing. Please refer this website.\nCode The code used to do raw data processing.\nlibrary(tidymass) process_data( path = \u0026#34;mzxml_ms1_data/POS\u0026#34;, polarity = \u0026#34;positive\u0026#34;, ppm = 10, peakwidth = c(10, 60), threads = 4, output_tic = FALSE, output_bpc = FALSE, output_rt_correction_plot = FALSE, min_fraction = 0.5, group_for_figure = \u0026#34;QC\u0026#34; ) Results All the results will be placed in the folder mzxml_ms1_data/POS/Result. More information can be found here.\nYou can just load the object, which is a mass_dataset class object.\nload(\u0026#34;mzxml_ms1_data/POS/Result/object\u0026#34;) object #\u0026gt; -------------------- #\u0026gt; massdataset version: 0.99.8 #\u0026gt; -------------------- #\u0026gt; 1.expression_data:[ 10149 x 259 data.frame] #\u0026gt; 2.sample_info:[ 259 x 4 data.frame] #\u0026gt; 259 samples:sample_06 sample_103 sample_11 ... sample_QC_38 sample_QC_39 #\u0026gt; 3.variable_info:[ 10149 x 3 data.frame] #\u0026gt; 10149 variables:M70T73_POS M70T53_POS M70T183_POS ... M923T55_POS M992T641_POS #\u0026gt; 4.sample_info_note:[ 4 x 2 data.frame] #\u0026gt; 5.variable_info_note:[ 3 x 2 data.frame] #\u0026gt; 6.ms2_data:[ 0 variables x 0 MS2 spectra] #\u0026gt; -------------------- #\u0026gt; Processing information #\u0026gt; 2 processings in total #\u0026gt; create_mass_dataset ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 massdataset create_mass_dataset() 2022-02-22 16:37:06 #\u0026gt; process_data ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 massprocesser process_data 2022-02-22 16:36:42 We can see that there are 10,149 metabolic features in positive mode.\nYou can use the plot_adjusted_rt() function to get the interactive plot.\nload(\u0026#34;mzxml_ms1_data/POS/Result/intermediate_data/xdata2\u0026#34;) ##set the group_for_figure if you want to show specific groups. And set it as \u0026#34;all\u0026#34; if you want to show all samples. plot = massprocesser::plot_adjusted_rt(object = xdata2, group_for_figure = \u0026#34;QC\u0026#34;, interactive = TRUE) plot Negative mode The processing of negative mode is same with positive mode data.\nCode Same with positive mode, change polarity to negative.\nmassprocesser::process_data( path = \u0026#34;mzxml_ms1_data/NEG\u0026#34;, polarity = \u0026#34;negative\u0026#34;, ppm = 10, peakwidth = c(10, 60), threads = 4, output_tic = FALSE, output_bpc = FALSE, output_rt_correction_plot = FALSE, min_fraction = 0.5, group_for_figure = \u0026#34;QC\u0026#34; ) Results Same with positive mode.\nload(\u0026#34;mzxml_ms1_data/NEG/Result/object\u0026#34;) object #\u0026gt; -------------------- #\u0026gt; massdataset version: 0.99.8 #\u0026gt; -------------------- #\u0026gt; 1.expression_data:[ 8804 x 259 data.frame] #\u0026gt; 2.sample_info:[ 259 x 4 data.frame] #\u0026gt; 259 samples:sample_06 sample_103 sample_11 ... sample_QC_38 sample_QC_39 #\u0026gt; 3.variable_info:[ 8804 x 3 data.frame] #\u0026gt; 8804 variables:M70T712_NEG M70T527_NEG M70T587_NEG ... M941T65_NEG M948T641_NEG #\u0026gt; 4.sample_info_note:[ 4 x 2 data.frame] #\u0026gt; 5.variable_info_note:[ 3 x 2 data.frame] #\u0026gt; 6.ms2_data:[ 0 variables x 0 MS2 spectra] #\u0026gt; -------------------- #\u0026gt; Processing information #\u0026gt; 2 processings in total #\u0026gt; create_mass_dataset ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 massdataset create_mass_dataset() 2022-02-22 16:38:19 #\u0026gt; process_data ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 massprocesser process_data 2022-02-22 16:38:02 We can see that there are 8,804 metabolic features in negative mode.\nSession information sessionInfo() #\u0026gt; R version 4.3.0 (2023-04-21) #\u0026gt; Platform: x86_64-apple-darwin20 (64-bit) #\u0026gt; Running under: macOS Ventura 13.5.1 #\u0026gt; #\u0026gt; Matrix products: default #\u0026gt; BLAS: /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRblas.0.dylib #\u0026gt; LAPACK: /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRlapack.dylib; LAPACK version 3.11.0 #\u0026gt; #\u0026gt; locale: #\u0026gt; [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8 #\u0026gt; #\u0026gt; time zone: America/Los_Angeles #\u0026gt; tzcode source: internal #\u0026gt; #\u0026gt; attached base packages: #\u0026gt; [1] grid stats4 stats graphics grDevices utils datasets #\u0026gt; [8] methods base #\u0026gt; #\u0026gt; other attached packages: #\u0026gt; [1] metid_1.2.28 metpath_1.0.8 ComplexHeatmap_2.16.0 #\u0026gt; [4] mixOmics_6.24.0 lattice_0.21-8 MASS_7.3-58.4 #\u0026gt; [7] massstat_1.0.5 tidyr_1.3.0 ggfortify_0.4.16 #\u0026gt; [10] massqc_1.0.6 masscleaner_1.0.11 xcms_3.22.0 #\u0026gt; [13] MSnbase_2.26.0 ProtGenerics_1.32.0 S4Vectors_0.38.1 #\u0026gt; [16] mzR_2.34.0 Rcpp_1.0.10 Biobase_2.60.0 #\u0026gt; [19] BiocGenerics_0.46.0 BiocParallel_1.34.2 massprocesser_1.0.10 #\u0026gt; [22] ggplot2_3.4.2 dplyr_1.1.2 magrittr_2.0.3 #\u0026gt; [25] masstools_1.0.10 massdataset_1.0.25 tidymass_1.0.8 #\u0026gt; #\u0026gt; loaded via a namespace (and not attached): #\u0026gt; [1] splines_4.3.0 bitops_1.0-7 #\u0026gt; [3] cellranger_1.1.0 tibble_3.2.1 #\u0026gt; [5] polyclip_1.10-4 preprocessCore_1.62.1 #\u0026gt; [7] XML_3.99-0.14 rpart_4.1.19 #\u0026gt; [9] fastDummies_1.6.3 lifecycle_1.0.3 #\u0026gt; [11] doParallel_1.0.17 rprojroot_2.0.3 #\u0026gt; [13] globals_0.16.2 backports_1.4.1 #\u0026gt; [15] plotly_4.10.2 openxlsx_4.2.5.2 #\u0026gt; [17] limma_3.56.2 Hmisc_5.1-0 #\u0026gt; [19] â€¦","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"d396ef5e42f9a4fa91294d10a31989a2","permalink":"https://www.tidymass.org/docs/chapter5/1-data_explore/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/docs/chapter5/1-data_explore/","section":"docs","summary":"Data preparation Download the demo data and refer this article.\nWe have positive and negative mode. For each mode, we have control, case and QC groups. Control group have 110 samples, and case group have 110 samples as well.","tags":null,"title":"Explore data","type":"book"},{"authors":null,"categories":null,"content":"Data preparation We just use the dataset which are from previous step.\nlibrary(tidymass) #\u0026gt; Registered S3 method overwritten by \u0026#39;Hmisc\u0026#39;: #\u0026gt; method from #\u0026gt; vcov.default fit.models #\u0026gt; â”€â”€ Attaching packages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidymass 1.0.8 â”€â”€ #\u0026gt; âœ” massdataset 1.0.25 âœ” metid 1.2.28 #\u0026gt; âœ” massprocesser 1.0.10 âœ” masstools 1.0.10 #\u0026gt; âœ” masscleaner 1.0.11 âœ” dplyr 1.1.2 #\u0026gt; âœ” massqc 1.0.6 âœ” ggplot2 3.4.2 #\u0026gt; âœ” massstat 1.0.5 âœ” magrittr 2.0.3 #\u0026gt; âœ” metpath 1.0.8 load(\u0026#34;data_cleaning/POS/object_pos2\u0026#34;) load(\u0026#34;data_cleaning/NEG/object_neg2\u0026#34;) Add MS2 spectra data to mass_dataset class Download the MS2 data here.\nUncompress it.\nPositive mode object_pos2 \u0026lt;- mutate_ms2( object = object_pos2, column = \u0026#34;rp\u0026#34;, polarity = \u0026#34;positive\u0026#34;, ms1.ms2.match.mz.tol = 15, ms1.ms2.match.rt.tol = 30, path = \u0026#34;mgf_ms2_data/POS\u0026#34; ) #\u0026gt; Reading mgf data... #\u0026gt; Reading mgf data... #\u0026gt; Reading mgf data... #\u0026gt; Reading mgf data... #\u0026gt; 1042 out of 5101 variable have MS2 spectra. #\u0026gt; Selecting the most intense MS2 spectrum for each peak... object_pos2 #\u0026gt; -------------------- #\u0026gt; massdataset version: 0.99.8 #\u0026gt; -------------------- #\u0026gt; 1.expression_data:[ 5101 x 259 data.frame] #\u0026gt; 2.sample_info:[ 259 x 6 data.frame] #\u0026gt; 259 samples:sample_06 sample_103 sample_11 ... sample_QC_38 sample_QC_39 #\u0026gt; 3.variable_info:[ 5101 x 6 data.frame] #\u0026gt; 5101 variables:M70T53_POS M70T527_POS M71T775_POS ... M836T610_POS M836T759_POS #\u0026gt; 4.sample_info_note:[ 6 x 2 data.frame] #\u0026gt; 5.variable_info_note:[ 6 x 2 data.frame] #\u0026gt; 6.ms2_data:[ 1042 variables x 951 MS2 spectra] #\u0026gt; -------------------- #\u0026gt; Processing information #\u0026gt; 9 processings in total #\u0026gt; Latest 3 processings show #\u0026gt; normalize_data ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 masscleaner normalize_data() 2023-08-30 23:10:01 #\u0026gt; integrate_data ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 masscleaner integrate_data() 2023-08-30 23:10:03 #\u0026gt; mutate_ms2 ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 massdataset mutate_ms2() 2023-08-30 23:49:02 extract_ms2_data(object_pos2) #\u0026gt; $`QEP_SGA_QC_posi_ms2_ce25_01.mgf;QEP_SGA_QC_posi_ms2_ce25_02.mgf;QEP_SGA_QC_posi_ms2_ce50_01.mgf;QEP_SGA_QC_posi_ms2_ce50_02.mgf` #\u0026gt; -------------------- #\u0026gt; column: rp #\u0026gt; polarity: positive #\u0026gt; mz_tol: 15 #\u0026gt; rt_tol (second): 30 #\u0026gt; -------------------- #\u0026gt; 1042 variables: #\u0026gt; M71T775_POS M72T53_POS M83T50_POS M84T57_POS M85T54_POS... #\u0026gt; 951 MS2 spectra. #\u0026gt; mz70.981170654297rt775.4286 mz72.081642150879rt53.6528862 mz82.945625305176rt49.238013 mz84.045127868652rt59.6895132 mz85.029016959043rt53.0835648... Negative mode object_neg2 \u0026lt;- mutate_ms2( object = object_neg2, column = \u0026#34;rp\u0026#34;, polarity = \u0026#34;negative\u0026#34;, ms1.ms2.match.mz.tol = 15, ms1.ms2.match.rt.tol = 30, path = \u0026#34;mgf_ms2_data/NEG\u0026#34; ) #\u0026gt; Reading mgf data... #\u0026gt; Reading mgf data... #\u0026gt; Reading mgf data... #\u0026gt; Reading mgf data... #\u0026gt; 1092 out of 4104 variable have MS2 spectra. #\u0026gt; Selecting the most intense MS2 spectrum for each peak... object_neg2 #\u0026gt; -------------------- #\u0026gt; massdataset version: 0.99.8 #\u0026gt; -------------------- #\u0026gt; 1.expression_data:[ 4104 x 259 data.frame] #\u0026gt; 2.sample_info:[ 259 x 6 data.frame] #\u0026gt; 259 samples:sample_06 sample_103 sample_11 ... sample_QC_38 sample_QC_39 #\u0026gt; 3.variable_info:[ 4104 x 6 data.frame] #\u0026gt; 4104 variables:M70T712_NEG M70T587_NEG M71T587_NEG ... M884T57_NEG M899T56_NEG #\u0026gt; 4.sample_info_note:[ 6 x 2 data.frame] #\u0026gt; 5.variable_info_note:[ 6 x 2 data.frame] #\u0026gt; 6.ms2_data:[ 1092 variables x 988 MS2 spectra] #\u0026gt; -------------------- #\u0026gt; Processing information #\u0026gt; 9 processings in total #\u0026gt; Latest 3 processings show #\u0026gt; normalize_data ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 masscleaner normalize_data() 2023-08-30 23:10:13 #\u0026gt; integrate_data ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 masscleaner integrate_data() 2023-08-30 23:10:14 #\u0026gt; mutate_ms2 ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 massdataset mutate_ms2() 2023-08-30 23:49:36 extract_ms2_data(object_neg2) #\u0026gt; $`QEP_SGA_QC_neg_ms2_ce25_01.mgf;QEP_SGA_QC_neg_ms2_ce25_02.mgf;QEP_SGA_QC_neg_ms2_ce50_01.mgf;QEP_SGA_QC_neg_ms2_ce50_02.mgf` #\u0026gt; -------------------- #\u0026gt; column: rp #\u0026gt; polarity: negative #\u0026gt; mz_tol: 15 #\u0026gt; rt_tol (second): 30 #\u0026gt; -------------------- #\u0026gt; 1092 variables: #\u0026gt; M71T51_NEG M73T74_NEG M75T52_NEG M80T299_NEG M80T232_NEG... #\u0026gt; 988 MS2 spectra. #\u0026gt; mz71.012359619141rt52.3270968 mz73.02799987793rt74.779476 mz75.007308959961rt24.1557228 mz79.955728954783rt301.268466 mz79.955834350356rt235.127328... Metabolite annotation Metabolite annotation is based on the metid package.\nDownload database We need to download MS2 database from metid website.\nHere we download the Michael Snyder RPLC databases, Orbitrap database and MoNA database. And place them in a new folder named as metabolite_annotation.\nPositive mode Annotate features using snyder_database_rplc0.0.3. load(\u0026#34;metabolite_annotation/snyder_database_rplc0.0.3.rda\u0026#34;) snyder_database_rplc0.0.3 #\u0026gt; -----------Base information------------ #\u0026gt; Version:0.0.2 #\u0026gt; Source:MS #\u0026gt; Link:http://snyderlab.stanford.edu/ #\u0026gt; Creater:Xiaotao Shen(shenxt1990@163.com) #\u0026gt; With RT â€¦","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"d675652180e9e7587946e35b0cce745b","permalink":"https://www.tidymass.org/docs/chapter7/1-metabolite_annotation/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/docs/chapter7/1-metabolite_annotation/","section":"docs","summary":"Data preparation We just use the dataset which are from previous step.\nlibrary(tidymass) #\u003e Registered S3 method overwritten by 'Hmisc': #\u003e method from #\u003e vcov.default fit.models #\u003e â”€â”€ Attaching packages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidymass 1.","tags":null,"title":"Metabolite annotation","type":"book"},{"authors":null,"categories":null,"content":"Data preparation Load the differential expressional metabolites.\nlibrary(tidymass) #\u0026gt; Registered S3 method overwritten by \u0026#39;Hmisc\u0026#39;: #\u0026gt; method from #\u0026gt; vcov.default fit.models #\u0026gt; â”€â”€ Attaching packages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidymass 1.0.8 â”€â”€ #\u0026gt; âœ” massdataset 1.0.25 âœ” metid 1.2.28 #\u0026gt; âœ” massprocesser 1.0.10 âœ” masstools 1.0.10 #\u0026gt; âœ” masscleaner 1.0.11 âœ” dplyr 1.1.2 #\u0026gt; âœ” massqc 1.0.6 âœ” ggplot2 3.4.2 #\u0026gt; âœ” massstat 1.0.5 âœ” magrittr 2.0.3 #\u0026gt; âœ” metpath 1.0.8 library(tidyverse) #\u0026gt; â”€â”€ Attaching core tidyverse packages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse 2.0.0 â”€â”€ #\u0026gt; âœ” forcats 1.0.0 âœ” readr 2.1.4 #\u0026gt; âœ” lubridate 1.9.2 âœ” stringr 1.5.0 #\u0026gt; âœ” purrr 1.0.1 âœ” tibble 3.2.1 #\u0026gt; â”€â”€ Conflicts â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse_conflicts() â”€â”€ #\u0026gt; âœ– xcms::collect() masks dplyr::collect() #\u0026gt; âœ– MSnbase::combine() masks Biobase::combine(), BiocGenerics::combine(), dplyr::combine() #\u0026gt; âœ– tidyr::expand() masks S4Vectors::expand() #\u0026gt; âœ– tidyr::extract() masks magrittr::extract() #\u0026gt; âœ– metid::filter() masks metpath::filter(), dplyr::filter(), massdataset::filter(), stats::filter() #\u0026gt; âœ– S4Vectors::first() masks dplyr::first() #\u0026gt; âœ– xcms::groups() masks dplyr::groups() #\u0026gt; âœ– dplyr::lag() masks stats::lag() #\u0026gt; âœ– purrr::map() masks mixOmics::map() #\u0026gt; âœ– BiocGenerics::Position() masks ggplot2::Position(), base::Position() #\u0026gt; âœ– purrr::reduce() masks MSnbase::reduce() #\u0026gt; âœ– S4Vectors::rename() masks dplyr::rename(), massdataset::rename() #\u0026gt; âœ– lubridate::second() masks S4Vectors::second() #\u0026gt; âœ– lubridate::second\u0026lt;-() masks S4Vectors::second\u0026lt;-() #\u0026gt; âœ– MASS::select() masks dplyr::select(), massdataset::select() #\u0026gt; âœ– purrr::set_names() masks magrittr::set_names() #\u0026gt; â„¹ Use the conflicted package (\u0026lt;http://conflicted.r-lib.org/\u0026gt;) to force all conflicts to become errors load(\u0026#34;statistical_analysis/object_final\u0026#34;) object_final #\u0026gt; -------------------- #\u0026gt; massdataset version: 1.0.25 #\u0026gt; -------------------- #\u0026gt; 1.expression_data:[ 291 x 259 data.frame] #\u0026gt; 2.sample_info:[ 259 x 11 data.frame] #\u0026gt; 259 samples:sample_06 sample_103 sample_11 ... sample_QC_38 sample_QC_39 #\u0026gt; 3.variable_info:[ 291 x 12 data.frame] #\u0026gt; 291 variables:M86T95_POS M95T100_1_POS M100T160_POS ... M480T641_NEG M514T611_NEG #\u0026gt; 4.sample_info_note:[ 11 x 2 data.frame] #\u0026gt; 5.variable_info_note:[ 12 x 2 data.frame] #\u0026gt; 6.ms2_data:[ 2084 variables x 1902 MS2 spectra] #\u0026gt; -------------------- #\u0026gt; Processing information #\u0026gt; 26 processings in total #\u0026gt; Latest 3 processings show #\u0026gt; slice_head ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 massdataset slice_head() 2023-08-31 00:00:36.358056 #\u0026gt; 2 massdataset slice_head() 2023-08-31 00:00:36.85759 #\u0026gt; mutate_fc ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 massdataset mutate_fc() 2023-08-31 00:00:37 #\u0026gt; mutate_p_value ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 massdataset mutate_p_value() 2023-08-31 00:00:37 Pathway enrichment All the results will be placed in a folder named as pathway_enrichment.\ndir.create(path = \u0026#34;pathway_enrichment\u0026#34;, showWarnings = FALSE) diff_metabolites \u0026lt;- object_final %\u0026gt;% activate_mass_dataset(what = \u0026#34;variable_info\u0026#34;) %\u0026gt;% filter(p_value_adjust \u0026lt; 0.05) %\u0026gt;% extract_variable_info() head(diff_metabolites) #\u0026gt; variable_id mz rt na_freq na_freq.1 na_freq.2 na_freq_2 #\u0026gt; 1 M86T95_POS 86.09716 94.57264 0.02564103 0.55454545 0.29090909 NA #\u0026gt; 2 M95T100_1_POS 95.04975 99.77637 0.00000000 0.00000000 0.00000000 NA #\u0026gt; 3 M103T100_POS 103.05477 99.90601 0.00000000 0.00000000 0.00000000 NA #\u0026gt; 4 M104T51_POS 104.10746 51.27993 0.00000000 0.07272727 0.00000000 NA #\u0026gt; 5 M113T81_POS 113.03501 80.73506 0.00000000 0.00000000 0.00000000 NA #\u0026gt; 6 M113T187_POS 113.06018 186.56470 0.02564103 0.01818182 0.02727273 NA #\u0026gt; na_freq.1_2 na_freq.2_2 fc p_value p_value_adjust #\u0026gt; 1 NA NA 1.714629 3.034938e-20 4.702229e-19 #\u0026gt; 2 NA NA 1.439791 6.761432e-31 3.935153e-29 #\u0026gt; 3 NA NA 1.345809 5.215317e-19 6.898442e-18 #\u0026gt; 4 NA NA 1.751085 2.695171e-08 1.188325e-07 #\u0026gt; 5 NA NA 1.500756 5.966911e-22 1.335670e-20 #\u0026gt; 6 NA NA 1.951417 1.848299e-17 1.854673e-16 #\u0026gt; Compound.name CAS.ID HMDB.ID KEGG.ID Lab.ID Adduct #\u0026gt; 1 Piperidine 110-89-4 \u0026lt;NA\u0026gt; C01746 MONA_2852 (M+H)+ #\u0026gt; 2 Phenol 108-95-2 \u0026lt;NA\u0026gt; D01960 MONA_18506 (M+H)+ #\u0026gt; 3 Phenylacetaldehyde 122-78-1 HMDB06236 C00601 NO07389 (M+H-H2O)+ #\u0026gt; 4 5-Amino-1-pentanol 2508-29-4 \u0026lt;NA\u0026gt; \u0026lt;NA\u0026gt; NO07238 (M+H)+ #\u0026gt; 5 URACIL \u0026lt;NA\u0026gt; \u0026lt;NA\u0026gt; \u0026lt;NA\u0026gt; MONA_18148 (M+H)+ #\u0026gt; 6 1,4-Cyclohexanedione \u0026lt;NA\u0026gt; \u0026lt;NA\u0026gt; \u0026lt;NA\u0026gt; MONA_14519 (M+H)+ #\u0026gt; mz.error mz.match.score RT.error RT.match.score CE SS #\u0026gt; 1 1.746869 0.9932417 NA NA 30 0.6143541 #\u0026gt; 2 1.416428 0.9955515 NA NA 10 0.6102452 #\u0026gt; 3 1.537004 0.9947640 NA NA 10 0.5748835 #\u0026gt; 4 1.169128 0.9969671 NA NA 5 0.5971697 #\u0026gt; 5 1.275544 0.9963909 NA NA 10 0.6889885 #\u0026gt; 6 1.051626 0.9975454 NA NA HCD (NCE 20-30-40%) 0.5401414 #\u0026gt; Total.score Database Level #\u0026gt; 1 0.7564369 MoNA_0.0.1 2 #\u0026gt; 2 0.7547351 MoNA_0.0.1 2 #\u0026gt; 3 0.7323387 NIST_0.0.1 2 #\u0026gt; 4 0.7470937 NIST_0.0.1 2 #\u0026gt; 5 0.8042644 MoNA_0.0.1 2 #\u0026gt; 6 0.7116679 MoNA_0.0.1 2 Load KEGG human pathway database data(\u0026#34;kegg_hsa_pathway\u0026#34;, package = \u0026#34;metpath\u0026#34;) kegg_hsa_pathway #\u0026gt; â€¦","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"7ba05ea57f0890372e082c19550a1a04","permalink":"https://www.tidymass.org/docs/chapter9/1-pahtway_enrichment/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/docs/chapter9/1-pahtway_enrichment/","section":"docs","summary":"Data preparation Load the differential expressional metabolites.\nlibrary(tidymass) #\u003e Registered S3 method overwritten by 'Hmisc': #\u003e method from #\u003e vcov.default fit.models #\u003e â”€â”€ Attaching packages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidymass 1.0.8 â”€â”€ #\u003e âœ” massdataset 1.","tags":null,"title":"Pathway enrichment","type":"book"},{"authors":null,"categories":null,"content":"Data preparation Download the demo data and refer this article.\nWe have positive and negative mode. For each mode, we have control, case and QC groups. Control group have 110 samples, and case group have 110 samples as well.\nPositive mode massprocesser package is used to do the raw data processing. Please refer this website.\nCode The code used to do raw data processing.\nlibrary(tidymass) #\u0026gt; Registered S3 method overwritten by \u0026#39;Hmisc\u0026#39;: #\u0026gt; method from #\u0026gt; vcov.default fit.models #\u0026gt; â”€â”€ Attaching packages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidymass 1.0.8 â”€â”€ #\u0026gt; âœ” massdataset 1.0.25 âœ” metid 1.2.28 #\u0026gt; âœ” massprocesser 1.0.10 âœ” masstools 1.0.10 #\u0026gt; âœ” masscleaner 1.0.11 âœ” dplyr 1.1.2 #\u0026gt; âœ” massqc 1.0.6 âœ” ggplot2 3.4.2 #\u0026gt; âœ” massstat 1.0.5 âœ” magrittr 2.0.3 #\u0026gt; âœ” metpath 1.0.8 process_data( path = \u0026#34;mzxml_ms1_data/POS\u0026#34;, polarity = \u0026#34;positive\u0026#34;, ppm = 10, peakwidth = c(10, 60), threads = 4, output_tic = FALSE, output_bpc = FALSE, output_rt_correction_plot = FALSE, min_fraction = 0.5, group_for_figure = \u0026#34;QC\u0026#34; ) Results All the results will be placed in the folder mzxml_ms1_data/POS/Result. More information can be found here.\nYou can just load the object, which is a mass_dataset class object.\nload(\u0026#34;mzxml_ms1_data/POS/Result/object\u0026#34;) object #\u0026gt; -------------------- #\u0026gt; massdataset version: 0.99.8 #\u0026gt; -------------------- #\u0026gt; 1.expression_data:[ 10149 x 259 data.frame] #\u0026gt; 2.sample_info:[ 259 x 4 data.frame] #\u0026gt; 259 samples:sample_06 sample_103 sample_11 ... sample_QC_38 sample_QC_39 #\u0026gt; 3.variable_info:[ 10149 x 3 data.frame] #\u0026gt; 10149 variables:M70T73_POS M70T53_POS M70T183_POS ... M923T55_POS M992T641_POS #\u0026gt; 4.sample_info_note:[ 4 x 2 data.frame] #\u0026gt; 5.variable_info_note:[ 3 x 2 data.frame] #\u0026gt; 6.ms2_data:[ 0 variables x 0 MS2 spectra] #\u0026gt; -------------------- #\u0026gt; Processing information #\u0026gt; 2 processings in total #\u0026gt; create_mass_dataset ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 massdataset create_mass_dataset() 2022-02-22 16:37:06 #\u0026gt; process_data ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 massprocesser process_data 2022-02-22 16:36:42 We can see that there are 10,149 metabolic features in positive mode.\nYou can use the plot_adjusted_rt() function to get the interactive plot.\nload(\u0026#34;mzxml_ms1_data/POS/Result/intermediate_data/xdata2\u0026#34;) ##set the group_for_figure if you want to show specific groups. And set it as \u0026#34;all\u0026#34; if you want to show all samples. plot = massprocesser::plot_adjusted_rt(object = xdata2, group_for_figure = \u0026#34;QC\u0026#34;, interactive = TRUE) plot Negative mode The processing of negative mode is same with positive mode data.\nCode Same with positive mode, change polarity to negative.\nmassprocesser::process_data( path = \u0026#34;mzxml_ms1_data/NEG\u0026#34;, polarity = \u0026#34;negative\u0026#34;, ppm = 10, peakwidth = c(10, 60), threads = 4, output_tic = FALSE, output_bpc = FALSE, output_rt_correction_plot = FALSE, min_fraction = 0.5, group_for_figure = \u0026#34;QC\u0026#34; ) Results Same with positive mode.\nload(\u0026#34;mzxml_ms1_data/NEG/Result/object\u0026#34;) object #\u0026gt; -------------------- #\u0026gt; massdataset version: 0.99.8 #\u0026gt; -------------------- #\u0026gt; 1.expression_data:[ 8804 x 259 data.frame] #\u0026gt; 2.sample_info:[ 259 x 4 data.frame] #\u0026gt; 259 samples:sample_06 sample_103 sample_11 ... sample_QC_38 sample_QC_39 #\u0026gt; 3.variable_info:[ 8804 x 3 data.frame] #\u0026gt; 8804 variables:M70T712_NEG M70T527_NEG M70T587_NEG ... M941T65_NEG M948T641_NEG #\u0026gt; 4.sample_info_note:[ 4 x 2 data.frame] #\u0026gt; 5.variable_info_note:[ 3 x 2 data.frame] #\u0026gt; 6.ms2_data:[ 0 variables x 0 MS2 spectra] #\u0026gt; -------------------- #\u0026gt; Processing information #\u0026gt; 2 processings in total #\u0026gt; create_mass_dataset ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 massdataset create_mass_dataset() 2022-02-22 16:38:19 #\u0026gt; process_data ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 massprocesser process_data 2022-02-22 16:38:02 We can see that there are 8,804 metabolic features in negative mode.\nSession information sessionInfo() #\u0026gt; R version 4.3.0 (2023-04-21) #\u0026gt; Platform: x86_64-apple-darwin20 (64-bit) #\u0026gt; Running under: macOS Ventura 13.5.1 #\u0026gt; #\u0026gt; Matrix products: default #\u0026gt; BLAS: /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRblas.0.dylib #\u0026gt; LAPACK: /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRlapack.dylib; LAPACK version 3.11.0 #\u0026gt; #\u0026gt; locale: #\u0026gt; [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8 #\u0026gt; #\u0026gt; time zone: America/Los_Angeles #\u0026gt; tzcode source: internal #\u0026gt; #\u0026gt; attached base packages: #\u0026gt; [1] grid stats4 stats graphics grDevices utils datasets #\u0026gt; [8] methods base #\u0026gt; #\u0026gt; other attached packages: #\u0026gt; [1] metid_1.2.28 metpath_1.0.8 ComplexHeatmap_2.16.0 #\u0026gt; [4] mixOmics_6.24.0 lattice_0.21-8 MASS_7.3-58.4 #\u0026gt; [7] massstat_1.0.5 tidyr_1.3.0 ggfortify_0.4.16 #\u0026gt; [10] massqc_1.0.6 masscleaner_1.0.11 xcms_3.22.0 #\u0026gt; [13] MSnbase_2.26.0 ProtGenerics_1.32.0 S4Vectors_0.38.1 #\u0026gt; [16] mzR_2.34.0 Rcpp_1.0.10 Biobase_2.60.0 #\u0026gt; [19] BiocGenerics_0.46.0 BiocParallel_1.34.2 massprocesser_1.0.10 #\u0026gt; [22] ggplot2_3.4.2 dplyr_1.1.2 magrittr_2.0.3 #\u0026gt; [25] masstools_1.0.10 massdataset_1.0.25 tidymass_1.0.8 #\u0026gt; #\u0026gt; loaded via a namespace â€¦","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"6a8b9c1f45cb3a9fe5879e88b1ae43dc","permalink":"https://www.tidymass.org/docs/chapter4/1-raw_data_processing/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/docs/chapter4/1-raw_data_processing/","section":"docs","summary":"Data preparation Download the demo data and refer this article.\nWe have positive and negative mode. For each mode, we have control, case and QC groups. Control group have 110 samples, and case group have 110 samples as well.","tags":null,"title":"Raw data processing","type":"book"},{"authors":null,"categories":null,"content":"Data preparation Now the positive mode and negative mode have been annotated respectively. We need to merge positive and negative mode data.\nlibrary(tidymass) #\u0026gt; Registered S3 method overwritten by \u0026#39;Hmisc\u0026#39;: #\u0026gt; method from #\u0026gt; vcov.default fit.models #\u0026gt; â”€â”€ Attaching packages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidymass 1.0.8 â”€â”€ #\u0026gt; âœ” massdataset 1.0.25 âœ” metid 1.2.28 #\u0026gt; âœ” massprocesser 1.0.10 âœ” masstools 1.0.10 #\u0026gt; âœ” masscleaner 1.0.11 âœ” dplyr 1.1.2 #\u0026gt; âœ” massqc 1.0.6 âœ” ggplot2 3.4.2 #\u0026gt; âœ” massstat 1.0.5 âœ” magrittr 2.0.3 #\u0026gt; âœ” metpath 1.0.8 library(tidyverse) #\u0026gt; â”€â”€ Attaching core tidyverse packages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse 2.0.0 â”€â”€ #\u0026gt; âœ” forcats 1.0.0 âœ” readr 2.1.4 #\u0026gt; âœ” lubridate 1.9.2 âœ” stringr 1.5.0 #\u0026gt; âœ” purrr 1.0.1 âœ” tibble 3.2.1 #\u0026gt; â”€â”€ Conflicts â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse_conflicts() â”€â”€ #\u0026gt; âœ– xcms::collect() masks dplyr::collect() #\u0026gt; âœ– MSnbase::combine() masks Biobase::combine(), BiocGenerics::combine(), dplyr::combine() #\u0026gt; âœ– tidyr::expand() masks S4Vectors::expand() #\u0026gt; âœ– tidyr::extract() masks magrittr::extract() #\u0026gt; âœ– metid::filter() masks metpath::filter(), dplyr::filter(), massdataset::filter(), stats::filter() #\u0026gt; âœ– S4Vectors::first() masks dplyr::first() #\u0026gt; âœ– xcms::groups() masks dplyr::groups() #\u0026gt; âœ– dplyr::lag() masks stats::lag() #\u0026gt; âœ– purrr::map() masks mixOmics::map() #\u0026gt; âœ– BiocGenerics::Position() masks ggplot2::Position(), base::Position() #\u0026gt; âœ– purrr::reduce() masks MSnbase::reduce() #\u0026gt; âœ– S4Vectors::rename() masks dplyr::rename(), massdataset::rename() #\u0026gt; âœ– lubridate::second() masks S4Vectors::second() #\u0026gt; âœ– lubridate::second\u0026lt;-() masks S4Vectors::second\u0026lt;-() #\u0026gt; âœ– MASS::select() masks dplyr::select(), massdataset::select() #\u0026gt; âœ– purrr::set_names() masks magrittr::set_names() #\u0026gt; â„¹ Use the conflicted package (\u0026lt;http://conflicted.r-lib.org/\u0026gt;) to force all conflicts to become errors Load data load(\u0026#34;metabolite_annotation/object_pos2\u0026#34;) load(\u0026#34;metabolite_annotation/object_neg2\u0026#34;) Remove the features without annotations Positive mode object_pos2 \u0026lt;- object_pos2 %\u0026gt;% activate_mass_dataset(what = \u0026#34;annotation_table\u0026#34;) %\u0026gt;% filter(!is.na(Level)) %\u0026gt;% filter(Level == 1 | Level == 2) object_pos2 #\u0026gt; -------------------- #\u0026gt; massdataset version: 0.99.1 #\u0026gt; -------------------- #\u0026gt; 1.expression_data:[ 206 x 259 data.frame] #\u0026gt; 2.sample_info:[ 259 x 6 data.frame] #\u0026gt; 259 samples:sample_06 sample_103 sample_11 ... sample_QC_38 sample_QC_39 #\u0026gt; 3.variable_info:[ 206 x 6 data.frame] #\u0026gt; 206 variables:M86T95_POS M95T100_1_POS M100T160_POS ... M568T622_POS M609T427_POS #\u0026gt; 4.sample_info_note:[ 6 x 2 data.frame] #\u0026gt; 5.variable_info_note:[ 6 x 2 data.frame] #\u0026gt; 6.ms2_data:[ 1042 variables x 951 MS2 spectra] #\u0026gt; -------------------- #\u0026gt; Processing information #\u0026gt; 11 processings in total #\u0026gt; Latest 3 processings show #\u0026gt; update_mass_dataset ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 massdataset update_mass_dataset() 2022-01-19 21:53:01 #\u0026gt; mutate_ms2 ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 massdataset mutate_ms2() 2022-01-19 21:53:36 #\u0026gt; annotate_metabolites_mass_dataset ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 metid annotate_metabolites_mass_dataset() 2022-02-22 21:16:23.17454 #\u0026gt; 2 metid annotate_metabolites_mass_dataset() 2022-02-22 21:30:10.706486 #\u0026gt; 3 metid annotate_metabolites_mass_dataset() 2022-02-22 21:47:59.474422 Negative mode object_neg2 \u0026lt;- object_neg2 %\u0026gt;% activate_mass_dataset(what = \u0026#34;annotation_table\u0026#34;) %\u0026gt;% filter(!is.na(Level)) %\u0026gt;% filter(Level == 1 | Level == 2) object_neg2 #\u0026gt; -------------------- #\u0026gt; massdataset version: 0.99.1 #\u0026gt; -------------------- #\u0026gt; 1.expression_data:[ 165 x 259 data.frame] #\u0026gt; 2.sample_info:[ 259 x 6 data.frame] #\u0026gt; 259 samples:sample_06 sample_103 sample_11 ... sample_QC_38 sample_QC_39 #\u0026gt; 3.variable_info:[ 165 x 6 data.frame] #\u0026gt; 165 variables:M73T74_NEG M75T52_NEG M85T99_NEG ... M480T641_NEG M514T611_NEG #\u0026gt; 4.sample_info_note:[ 6 x 2 data.frame] #\u0026gt; 5.variable_info_note:[ 6 x 2 data.frame] #\u0026gt; 6.ms2_data:[ 1092 variables x 988 MS2 spectra] #\u0026gt; -------------------- #\u0026gt; Processing information #\u0026gt; 11 processings in total #\u0026gt; Latest 3 processings show #\u0026gt; update_mass_dataset ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 massdataset update_mass_dataset() 2022-01-19 21:53:37 #\u0026gt; mutate_ms2 ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 massdataset mutate_ms2() 2022-01-19 21:54:06 #\u0026gt; annotate_metabolites_mass_dataset ---------- #\u0026gt; Package Function.used Time #\u0026gt; 1 metid annotate_metabolites_mass_dataset() 2022-02-22 21:50:29.759271 #\u0026gt; 2 metid annotate_metabolites_mass_dataset() 2022-02-22 22:08:10.771619 #\u0026gt; 3 metid annotate_metabolites_mass_dataset() 2022-02-22 22:26:33.968578 Merge data We need to merge positive and negative mode data as one mass_dataset class.\nhead(colnames(object_pos2)) #\u0026gt; [1] \u0026#34;sample_06\u0026#34; \u0026#34;sample_103\u0026#34; \u0026#34;sample_11\u0026#34; \u0026#34;sample_112\u0026#34; \u0026#34;sample_117\u0026#34; #\u0026gt; [6] \u0026#34;sample_12\u0026#34; head(colnames(object_neg2)) #\u0026gt; [1] \u0026#34;sample_06\u0026#34; \u0026#34;sample_103\u0026#34; \u0026#34;sample_11\u0026#34; \u0026#34;sample_112\u0026#34; \u0026#34;sample_117\u0026#34; #\u0026gt; [6] \u0026#34;sample_12\u0026#34; object \u0026lt;- merge_mass_dataset(x = object_pos2, y = object_neg2, sample_direction = \u0026#34;inner\u0026#34;, â€¦","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"500e9c0793a06d0bb8e2465cc8f53a01","permalink":"https://www.tidymass.org/docs/chapter8/1-statistical_analysis/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/docs/chapter8/1-statistical_analysis/","section":"docs","summary":"Data preparation Now the positive mode and negative mode have been annotated respectively. We need to merge positive and negative mode data.\nlibrary(tidymass) #\u003e Registered S3 method overwritten by 'Hmisc': #\u003e method from #\u003e vcov.","tags":null,"title":"Statistical analysis","type":"book"},{"authors":null,"categories":null,"content":"Update R version tidymass require R version \u0026gt; 4.1.\nYou can check your R version in your console:\nversion ## _ ## platform x86_64-apple-darwin20 ## arch x86_64 ## os darwin20 ## system x86_64, darwin20 ## status ## major 4 ## minor 3.0 ## year 2023 ## month 04 ## day 21 ## svn rev 84292 ## language R ## version.string R version 4.3.0 (2023-04-21) ## nickname Already Tomorrow If your R version is \u0026lt; 4.1, please download and install the latest version of R, and then restart your R.\nInstall tidymass Copy and paste the below code in your console.\nsource(\u0026#34;https://www.tidymass.org/tidymass-packages/install_tidymass.txt\u0026#34;) install_tidymass(from = \u0026#34;tidymass.org\u0026#34;) ","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"341c9b98e9ad5b4d30164e30e74d9b5a","permalink":"https://www.tidymass.org/docs/chapter1/1-tidymass.org/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/docs/chapter1/1-tidymass.org/","section":"docs","summary":"Update R version tidymass require R version \u003e 4.1.\nYou can check your R version in your console:\nversion ## _ ## platform x86_64-apple-darwin20 ## arch x86_64 ## os darwin20 ## system x86_64, darwin20 ## status ## major 4 ## minor 3.","tags":null,"title":"tidymass.org","type":"book"},{"authors":null,"categories":null,"content":"Introduction to Metabolomics Data The Danish Project Project studies metabolic changes during human pregnancy and if these altered metabolites could be used to predict preterm.\nReferenced research Liang L, Rasmussen MH, Piening B, Shen X, Chen S, RÃ¶st H, Snyder JK, Tibshirani R, Skotte L, Lee NC, Contrepois K, Feenstra B, Zackriah H, Snyder M, Melbye M. Metabolic Dynamics and Prediction of Gestational Age and Time to Delivery in Pregnant Women. Cell. 2020 Jun 25;181(7):1680-1692.e15. doi: 10.1016/j.cell.2020.05.002. Introduction to tidyMass project TidyMass is an ecosystem of R packages that share an underlying design philosophy, grammar, and data structure, which provides a comprehensive, reproducible, and object-oriented computational framework. The modular architecture makes tidyMass a highly flexible and extensible tool, which other users can improve and integrate with other tools to customize their own pipeline.\nMore information about tidyMass could be found here: tidymass.org.\nShen X, Yan H, Wang C, Gao P, Johnson CH, Snyder MP. TidyMass an object-oriented reproducible analysis framework for LC-MS data. Nat Commun. 2022 Jul 28;13(1):4365. doi: 10.1038/s41467-022-32155-w. Hopefully, at the end of this module, you will have a better sense of the metabolomics data analysis procedure and how to use R for reproducible data processing and analysis\nData preparation Download the demo data and uncompress it.\nGoogle drive link\nIf you can use Google drive, download here. (code 2022)\nThe demo data contains RPLC positive mode, with 7 participants, and two samples for each participant (Trimester 1 (\u0026lt; 10 weeks) and trimester 3 (\u0026gt; 30 weeks)). So there are 14 samples in total.\nMS1: MS1 is the folder contains the mzXML for 14 samples.\nMS2: MS2 is the folder contains the mgf for QC samples (MS2 spectra).\nsample_info.xlsx: it is the metadata for samples.\n![](/docs/chapter10/figures/Screen-Shot 1.png)\nRaw data processing library(tidymass) #\u0026gt; Registered S3 method overwritten by \u0026#39;Hmisc\u0026#39;: #\u0026gt; method from #\u0026gt; vcov.default fit.models #\u0026gt; â”€â”€ Attaching packages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidymass 1.0.8 â”€â”€ #\u0026gt; âœ” massdataset 1.0.25 âœ” metid 1.2.28 #\u0026gt; âœ” massprocesser 1.0.10 âœ” masstools 1.0.10 #\u0026gt; âœ” masscleaner 1.0.11 âœ” dplyr 1.1.2 #\u0026gt; âœ” massqc 1.0.6 âœ” ggplot2 3.4.2 #\u0026gt; âœ” massstat 1.0.5 âœ” magrittr 2.0.3 #\u0026gt; âœ” metpath 1.0.8 library(tidyverse) #\u0026gt; â”€â”€ Attaching core tidyverse packages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse 2.0.0 â”€â”€ #\u0026gt; âœ” forcats 1.0.0 âœ” readr 2.1.4 #\u0026gt; âœ” lubridate 1.9.2 âœ” stringr 1.5.0 #\u0026gt; âœ” purrr 1.0.1 âœ” tibble 3.2.1 #\u0026gt; â”€â”€ Conflicts â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse_conflicts() â”€â”€ #\u0026gt; âœ– xcms::collect() masks dplyr::collect() #\u0026gt; âœ– MSnbase::combine() masks Biobase::combine(), BiocGenerics::combine(), dplyr::combine() #\u0026gt; âœ– tidyr::expand() masks S4Vectors::expand() #\u0026gt; âœ– tidyr::extract() masks magrittr::extract() #\u0026gt; âœ– metid::filter() masks metpath::filter(), dplyr::filter(), massdataset::filter(), stats::filter() #\u0026gt; âœ– S4Vectors::first() masks dplyr::first() #\u0026gt; âœ– xcms::groups() masks dplyr::groups() #\u0026gt; âœ– dplyr::lag() masks stats::lag() #\u0026gt; âœ– purrr::map() masks mixOmics::map() #\u0026gt; âœ– BiocGenerics::Position() masks ggplot2::Position(), base::Position() #\u0026gt; âœ– purrr::reduce() masks MSnbase::reduce() #\u0026gt; âœ– S4Vectors::rename() masks dplyr::rename(), massdataset::rename() #\u0026gt; âœ– lubridate::second() masks S4Vectors::second() #\u0026gt; âœ– lubridate::second\u0026lt;-() masks S4Vectors::second\u0026lt;-() #\u0026gt; âœ– MASS::select() masks dplyr::select(), massdataset::select() #\u0026gt; âœ– purrr::set_names() masks magrittr::set_names() #\u0026gt; â„¹ Use the conflicted package (\u0026lt;http://conflicted.r-lib.org/\u0026gt;) to force all conflicts to become errors massprocesser package in tidymass is used to do the raw data processing. Please refer this website.\nThe code used to do raw data processing (peak picking, peak grouping).\nmassprocesser::process_data( path = \u0026#34;cell_liang_2020/MS1/\u0026#34;, polarity = \u0026#34;positive\u0026#34;, ppm = 10, peakwidth = c(5, 30), threads = 4, output_tic = TRUE, output_bpc = TRUE, output_rt_correction_plot = FALSE, min_fraction = 0.5 ) All the results will be placed in the folder named MS1/Result. More information about that can be found here.\n![](/docs/chapter10/figures/Screen-Shot 2.png)\nBPC.pdf: BPC plot.\nTIC.pdf: TIC plot.\nRT correction plot.pdf: Retention time correction plot.\nPeak_table.csv: Peak table.\nPeak_table_for_cleaning.csv: Peak table which can be used for data cleaning.\nobject: mass_dataset class object which can be used for subsequent analysis using tidymass.\nintermediate_data: intermediate data.\nYou can just load the object, which is a mass_dataset class object.\nload(\u0026#34;cell_liang_2020/MS1/Result/object\u0026#34;) object #\u0026gt; -------------------- #\u0026gt; massdataset version: 1.0.12 #\u0026gt; -------------------- #\u0026gt; 1.expression_data:[ 9164 x 14 data.frame] #\u0026gt; 2.sample_info:[ 14 x 4 data.frame] #\u0026gt; 14 samples:184 214 289 ... 528 739 #\u0026gt; 3.variable_info:[ 9164 x 3 data.frame] #\u0026gt; 9164 variables:M71T823_POS M72T34_POS M72T822_POS ... M994T593_POS M995T593_POS #\u0026gt; 4.sample_info_note:[ 4 x 2 â€¦","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"eb881b3c04fda0c2af05107b91469981","permalink":"https://www.tidymass.org/docs/chapter10/1-whole_workflow/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/docs/chapter10/1-whole_workflow/","section":"docs","summary":"Introduction to Metabolomics Data The Danish Project Project studies metabolic changes during human pregnancy and if these altered metabolites could be used to predict preterm.\nReferenced research Liang L, Rasmussen MH, Piening B, Shen X, Chen S, RÃ¶st H, Snyder JK, Tibshirani R, Skotte L, Lee NC, Contrepois K, Feenstra B, Zackriah H, Snyder M, Melbye M.","tags":null,"title":"Whole workflow using tidymass","type":"book"},{"authors":null,"categories":null,"content":"Update R version tidymass require R version \u0026gt; 4.1.\nYou can check your R version in your console:\nversion #\u0026gt; _ #\u0026gt; platform x86_64-apple-darwin20 #\u0026gt; arch x86_64 #\u0026gt; os darwin20 #\u0026gt; system x86_64, darwin20 #\u0026gt; status #\u0026gt; major 4 #\u0026gt; minor 3.0 #\u0026gt; year 2023 #\u0026gt; month 04 #\u0026gt; day 21 #\u0026gt; svn rev 84292 #\u0026gt; language R #\u0026gt; version.string R version 4.3.0 (2023-04-21) #\u0026gt; nickname Already Tomorrow If your R version is \u0026lt; 4.1, please download and install the latest version of R, and then restart your R.\nInstall tidymass Copy and paste the below code in your console.\nif(!require(remotes)){ install.packages(\u0026#34;remotes\u0026#34;) } remotes::install_github(\u0026#34;tidymass/tidymass\u0026#34;, dependencies = TRUE) Some issues During the installation, it will ask if you want to update some packages for few times, just enter Enter or Reurn key to skip it.\nIf there is a error like below:\nError: Failed to install â€™tidymassâ€™ from GitHub: HTTP error 403. API rate limit exceeded for 171.66.10.237. (But hereâ€™s the good news: Authenticated requests get a higher rate limit. Check out the documentation for more details.)\nTry to resolve it by:\nIn you R console, type this code: if(!require(usethis)){ install.packages(\u0026#34;usethis\u0026#34;) } usethis::create_github_token() It will open a page in browser, and create a â€œNew personal access tokenâ€ and copy it.\nThen type this code: usethis::edit_r_environ() and then add one line like below:\nGITHUB_PAT=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 The GITHUB_PAT should be yours that is created in step 1.\nAnd then restart R session and try again.\n","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"47f4bbbddd10bd83ec9d1635fe22d629","permalink":"https://www.tidymass.org/docs/chapter1/2-github/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/docs/chapter1/2-github/","section":"docs","summary":"Update R version tidymass require R version \u003e 4.1.\nYou can check your R version in your console:\nversion #\u003e _ #\u003e platform x86_64-apple-darwin20 #\u003e arch x86_64 #\u003e os darwin20 #\u003e system x86_64, darwin20 #\u003e status #\u003e major 4 #\u003e minor 3.","tags":null,"title":"GitHub","type":"book"},{"authors":null,"categories":null,"content":"Update R version tidymass require R version \u0026gt; 4.1.\nYou can check your R version in your console:\nversion ## _ ## platform x86_64-apple-darwin20 ## arch x86_64 ## os darwin20 ## system x86_64, darwin20 ## status ## major 4 ## minor 3.0 ## year 2023 ## month 04 ## day 21 ## svn rev 84292 ## language R ## version.string R version 4.3.0 (2023-04-21) ## nickname Already Tomorrow If your R version is \u0026lt; 4.1, please download and install the latest version of R, and then restart your R.\nInstall tidymass Copy and paste the below code in your console.\nif(!require(remotes)){ install.packages(\u0026#34;remotes\u0026#34;) } remotes::install_gitlab(\u0026#34;tidymass/tidymass\u0026#34;, dependencies = TRUE) Some issues During the installation, it will ask if you want to update some packages for few times, just enter Enter or Reurn key to skip it. ","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"848edff3944cbd273c23e0292f95ed41","permalink":"https://www.tidymass.org/docs/chapter1/3-gitlab/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/docs/chapter1/3-gitlab/","section":"docs","summary":"Update R version tidymass require R version \u003e 4.1.\nYou can check your R version in your console:\nversion ## _ ## platform x86_64-apple-darwin20 ## arch x86_64 ## os darwin20 ## system x86_64, darwin20 ## status ## major 4 ## minor 3.","tags":null,"title":"GitLab","type":"book"},{"authors":null,"categories":null,"content":"Update R version tidymass require R version \u0026gt; 4.1.\nYou can check your R version in your console:\nversion ## _ ## platform x86_64-apple-darwin20 ## arch x86_64 ## os darwin20 ## system x86_64, darwin20 ## status ## major 4 ## minor 3.0 ## year 2023 ## month 04 ## day 21 ## svn rev 84292 ## language R ## version.string R version 4.3.0 (2023-04-21) ## nickname Already Tomorrow If your R version is \u0026lt; 4.1, please download and install the latest version of R, and then restart your R.\nInstall tidymass Copy and paste the below code in your console.\nif(!require(remotes)){ install.packages(\u0026#34;remotes\u0026#34;) } remotes::install_git(url = \u0026#34;https://gitee.com/tidymass/tidymass\u0026#34;, dependencies = TRUE) Some issues During the installation, it will ask if you want to update some packages for few times, just enter Enter or Reurn key to skip it. ","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"a73890c462732ebbc07d13bbcbd54cfc","permalink":"https://www.tidymass.org/docs/chapter1/4-gitee/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/docs/chapter1/4-gitee/","section":"docs","summary":"Update R version tidymass require R version \u003e 4.1.\nYou can check your R version in your console:\nversion ## _ ## platform x86_64-apple-darwin20 ## arch x86_64 ## os darwin20 ## system x86_64, darwin20 ## status ## major 4 ## minor 3.","tags":null,"title":"Gitee","type":"book"},{"authors":null,"categories":null,"content":"Check version You can use the tidymass to check the version of all packages and update them.\nIf you want to check if there are updates for tidymass and packages in it. Just check it like this.\ntidyicrobiome::check_tidyicrobiome_version() Update tidymass The update_tidymass() function can be used to update tidymass and packages within it.\ntidymass::update_tidymass(from = \u0026#34;gitlab\u0026#34;) If the from = â€œgitlabâ€ doesnâ€™t work, try set it as from = â€œgithubâ€ or from = â€œgiteeâ€.\n","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"58a7fab576b89ce2c5c3c57d8fdcd913","permalink":"https://www.tidymass.org/docs/chapter1/5-update/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/docs/chapter1/5-update/","section":"docs","summary":"Check version You can use the tidymass to check the version of all packages and update them.\nIf you want to check if there are updates for tidymass and packages in it.","tags":null,"title":"Update","type":"book"},{"authors":null,"categories":null,"content":"Docker is a set of platform as a service (PaaS) products that use OS-level virtualization to deliver software in packages called containers. So it is useful for people who want to share the code, data, and even analysis environment with other people to repeat their analysis and results.\nWe provide a docker version of tidymass, all the packages in tidymass and the dependent packages have been installed.\nInstall docker Please refer to the offical website to download and install docker. And then run docker.\nPull the tidymass image Open you terminal and then type code below:\ndocker pull jaspershen/tidymass:latest Run tidymass docker image In you terminal, run the code below:\ndocker run -e PASSWORD=tidymass -p 8787:8787 jaspershen/tidymass:latest The below command will link the RStudio home folder with the desktop of the local machine running the container. Anything saved or edited in the home folder when using the container will be stored on the local desktop.\ndocker run -e PASSWORD=tidymass -v ~/Desktop:/home/rstudio/ -p 8787:8787 jaspershen/tidymass:latest Open the Rstudio server Then open the browser and visit http://localhost:8787 to power on RStudio server. The user name is rstudio and the password is tidymass.\nDemo data and example analysis code In this tidymass docker image, a folder named â€œdemo_dataâ€ is included to help users to learn how to use tidymass.\nOpen the tidymass_demo.Rmd file in demo_data folder, and then run it code chunk by chunk or just render it by clicking Knit on Rstudio, you will get a reporting result (HTML format) of all the whole workflow.\nSession information sessionInfo() #\u0026gt; R version 4.3.0 (2023-04-21) #\u0026gt; Platform: x86_64-apple-darwin20 (64-bit) #\u0026gt; Running under: macOS Ventura 13.5.1 #\u0026gt; #\u0026gt; Matrix products: default #\u0026gt; BLAS: /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRblas.0.dylib #\u0026gt; LAPACK: /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRlapack.dylib; LAPACK version 3.11.0 #\u0026gt; #\u0026gt; locale: #\u0026gt; [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8 #\u0026gt; #\u0026gt; time zone: America/Los_Angeles #\u0026gt; tzcode source: internal #\u0026gt; #\u0026gt; attached base packages: #\u0026gt; [1] stats graphics grDevices utils datasets methods base #\u0026gt; #\u0026gt; loaded via a namespace (and not attached): #\u0026gt; [1] digest_0.6.31 R6_2.5.1 bookdown_0.34 fastmap_1.1.1 #\u0026gt; [5] xfun_0.39 blogdown_1.18.1 cachem_1.0.8 knitr_1.43 #\u0026gt; [9] htmltools_0.5.5 rmarkdown_2.22 cli_3.6.1 sass_0.4.6 #\u0026gt; [13] jquerylib_0.1.4 compiler_4.3.0 rstudioapi_0.14 tools_4.3.0 #\u0026gt; [17] evaluate_0.21 bslib_0.5.0 yaml_2.3.7 jsonlite_1.8.5 #\u0026gt; [21] rlang_1.1.1 ","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"bd23e39f39bf9494f65dd312ce7f29fd","permalink":"https://www.tidymass.org/docs/chapter1/6-docker_tidymass/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/docs/chapter1/6-docker_tidymass/","section":"docs","summary":"Docker is a set of platform as a service (PaaS) products that use OS-level virtualization to deliver software in packages called containers. So it is useful for people who want to share the code, data, and even analysis environment with other people to repeat their analysis and results.","tags":null,"title":"Install docker version of tidymass","type":"book"},{"authors":null,"categories":null,"content":"You can build your own docker image, which contains all your code, data and analysis environment, which is more efficient for reproducible analysis.\nCreate dockerfile Create a dockerfile without extension. And then open and modify it.\nFROM jaspershen/tidymass:latest MAINTAINER \u0026#34;Xiaotao Shen\u0026#34; shenxt1990@outlook.com RUN apt-get update \u0026amp;\u0026amp; apt-get install -y curl COPY demo_data/ /home/rstudio/demo_data/ RUN chmod 777 /home/rstudio/demo_data/ RUN R -e \u0026#39;install.packages(\u0026#34;remotes\u0026#34;)\u0026#39; RUN R -e \u0026#34;remotes::install_gitlab(\u0026#39;jaspershen/tidymass\u0026#39;)\u0026#34; If you want to install packages (for example ggraph) which are necessary for you analysis, please add a new line:\nRUN R -e \u0026#39;install.packages(\u0026#34;ggraph\u0026#34;)\u0026#39; And you also need to copy your data to the image use the COPY.\nBuild image In the terminal, use below code to build the image.\ndocker build -t image-name -f Dockerfile . Change the image-name.\nUse the docker tag command to give the tidymass image a new name We need to create a account on the docker hub (https://hub.docker.com/) and then use the next code to link the local image to our account.\ndocker tag image-name your-account/image-name:latest Push image to docker hub docker push your-account/image-name:latest Then other people can download your image which contains your code, data and analysis environment, which make it is pretty easy to repeat your analysis and results.\nHow to pull docker image and run it can refer this document.\nSession information sessionInfo() #\u0026gt; R version 4.3.0 (2023-04-21) #\u0026gt; Platform: x86_64-apple-darwin20 (64-bit) #\u0026gt; Running under: macOS Ventura 13.5.1 #\u0026gt; #\u0026gt; Matrix products: default #\u0026gt; BLAS: /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRblas.0.dylib #\u0026gt; LAPACK: /Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/lib/libRlapack.dylib; LAPACK version 3.11.0 #\u0026gt; #\u0026gt; locale: #\u0026gt; [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8 #\u0026gt; #\u0026gt; time zone: America/Los_Angeles #\u0026gt; tzcode source: internal #\u0026gt; #\u0026gt; attached base packages: #\u0026gt; [1] stats graphics grDevices utils datasets methods base #\u0026gt; #\u0026gt; loaded via a namespace (and not attached): #\u0026gt; [1] digest_0.6.31 R6_2.5.1 bookdown_0.34 fastmap_1.1.1 #\u0026gt; [5] xfun_0.39 blogdown_1.18.1 cachem_1.0.8 knitr_1.43 #\u0026gt; [9] htmltools_0.5.5 rmarkdown_2.22 cli_3.6.1 sass_0.4.6 #\u0026gt; [13] jquerylib_0.1.4 compiler_4.3.0 rstudioapi_0.14 tools_4.3.0 #\u0026gt; [17] evaluate_0.21 bslib_0.5.0 yaml_2.3.7 jsonlite_1.8.5 #\u0026gt; [21] rlang_1.1.1 ","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"1e7797587527cd2b74880666057c2dc4","permalink":"https://www.tidymass.org/docs/chapter1/7-build_own_docker/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/docs/chapter1/7-build_own_docker/","section":"docs","summary":"You can build your own docker image, which contains all your code, data and analysis environment, which is more efficient for reproducible analysis.\nCreate dockerfile Create a dockerfile without extension. And then open and modify it.","tags":null,"title":"Build your own docker image based on tidymass","type":"book"},{"authors":null,"categories":null,"content":"","date":1666569600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1666569600,"objectID":"3bf44c81f2a197de01edde90bcd77783","permalink":"https://www.tidymass.org/team/","publishdate":"2022-10-24T00:00:00Z","relpermalink":"/team/","section":"","summary":"","tags":null,"title":"People","type":"landing"},{"authors":null,"categories":["R"],"content":"R Markdown This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see http://rmarkdown.rstudio.com.\nYou can embed an R code chunk like this:\nsummary(cars) ## speed dist ## Min. : 4.0 Min. : 2.00 ## 1st Qu.:12.0 1st Qu.: 26.00 ## Median :15.0 Median : 36.00 ## Mean :15.4 Mean : 42.98 ## 3rd Qu.:19.0 3rd Qu.: 56.00 ## Max. :25.0 Max. :120.00 fit \u0026lt;- lm(dist ~ speed, data = cars) fit ## ## Call: ## lm(formula = dist ~ speed, data = cars) ## ## Coefficients: ## (Intercept) speed ## -17.579 3.932 Including Plots You can also embed plots. See Figure 1 for example:\npar(mar = c(0, 1, 0, 1)) pie( c(280, 60, 20), c(\u0026#39;Sky\u0026#39;, \u0026#39;Sunny side of pyramid\u0026#39;, \u0026#39;Shady side of pyramid\u0026#39;), col = c(\u0026#39;#0292D8\u0026#39;, \u0026#39;#F7EA39\u0026#39;, \u0026#39;#C4B632\u0026#39;), init.angle = -50, border = NA ) Figure 1: A fancy pie chart.\n","date":1606875194,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1606875194,"objectID":"84a876ba789bb7232be8d9ed2487fd98","permalink":"https://www.tidymass.org/post/2020-12-01-r-rmarkdown/","publishdate":"2020-12-01T21:13:14-05:00","relpermalink":"/post/2020-12-01-r-rmarkdown/","section":"post","summary":"R Markdown This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see http://rmarkdown.","tags":["R Markdown","plot","regression"],"title":"Hello R Markdown","type":"post"},{"authors":null,"categories":null,"content":"","date":1579564800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1579564800,"objectID":"1f30370c20cb702ead87db4b8d4f5acc","permalink":"https://www.tidymass.org/packages/metnormalizer/","publishdate":"2020-01-21T00:00:00Z","relpermalink":"/packages/metnormalizer/","section":"packages","summary":"","tags":["Metabolomics"],"title":"MetNormalizer","type":"packages"},{"authors":null,"categories":null,"content":"","date":1579478400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1579478400,"objectID":"4d880f80b05b3b571ed2a302c54a17ce","permalink":"https://www.tidymass.org/packages/massconverter/","publishdate":"2020-01-20T00:00:00Z","relpermalink":"/packages/massconverter/","section":"packages","summary":"","tags":["Metabolomics"],"title":"massConverter","type":"packages"},{"authors":null,"categories":null,"content":"","date":1579478400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1579478400,"objectID":"a5aabc18275726c8f981b8ce111a258a","permalink":"https://www.tidymass.org/packages/massdatabase/","publishdate":"2020-01-20T00:00:00Z","relpermalink":"/packages/massdatabase/","section":"packages","summary":"","tags":["Metabolomics"],"title":"massDatabase","type":"packages"},{"authors":null,"categories":null,"content":"","date":1579478400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1579478400,"objectID":"e06e6bcd3411527258aaf17fcdf51405","permalink":"https://www.tidymass.org/packages/massprocesser/","publishdate":"2020-01-20T00:00:00Z","relpermalink":"/packages/massprocesser/","section":"packages","summary":"","tags":["Metabolomics"],"title":"massProcesser","type":"packages"},{"authors":null,"categories":null,"content":"","date":1579478400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1579478400,"objectID":"ab4b6cd7773c7b17ffb2f5eaea2a9f06","permalink":"https://www.tidymass.org/packages/massqc/","publishdate":"2020-01-20T00:00:00Z","relpermalink":"/packages/massqc/","section":"packages","summary":"","tags":["Metabolomics"],"title":"massQC","type":"packages"},{"authors":null,"categories":null,"content":"","date":1579478400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1579478400,"objectID":"96482c89e091d49fba35dad657606732","permalink":"https://www.tidymass.org/packages/massstat/","publishdate":"2020-01-20T00:00:00Z","relpermalink":"/packages/massstat/","section":"packages","summary":"","tags":["Metabolomics"],"title":"massStat","type":"packages"},{"authors":null,"categories":null,"content":"","date":1579478400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1579478400,"objectID":"13b3a0b62b060a7cd3299ef593a1dc01","permalink":"https://www.tidymass.org/packages/masstools/","publishdate":"2020-01-20T00:00:00Z","relpermalink":"/packages/masstools/","section":"packages","summary":"","tags":["Metabolomics"],"title":"massTools","type":"packages"},{"authors":null,"categories":null,"content":"","date":1579478400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1579478400,"objectID":"cbca041ec5046ec6b206b99f5324ee83","permalink":"https://www.tidymass.org/packages/masscleaner/","publishdate":"2020-01-20T00:00:00Z","relpermalink":"/packages/masscleaner/","section":"packages","summary":"","tags":["Metabolomics"],"title":"metCleaner","type":"packages"},{"authors":null,"categories":null,"content":"","date":1579478400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1579478400,"objectID":"8c461176e15f975ecb032656735fffc1","permalink":"https://www.tidymass.org/packages/massdataset/","publishdate":"2020-01-20T00:00:00Z","relpermalink":"/packages/massdataset/","section":"packages","summary":"","tags":["Metabolomics"],"title":"metID","type":"packages"},{"authors":null,"categories":null,"content":"","date":1579478400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1579478400,"objectID":"ce5f4366ce4fc714abdeb64c2e559eac","permalink":"https://www.tidymass.org/packages/metid/","publishdate":"2020-01-20T00:00:00Z","relpermalink":"/packages/metid/","section":"packages","summary":"","tags":["Metabolomics"],"title":"metID","type":"packages"},{"authors":null,"categories":null,"content":"","date":1579478400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1579478400,"objectID":"6496d68882e6691e6b9831add085751f","permalink":"https://www.tidymass.org/packages/metpath/","publishdate":"2020-01-20T00:00:00Z","relpermalink":"/packages/metpath/","section":"packages","summary":"","tags":["Metabolomics"],"title":"metPath","type":"packages"},{"authors":null,"categories":null,"content":"","date":1579478400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1579478400,"objectID":"6fdb32d867fa6d7443c01a79861723f1","permalink":"https://www.tidymass.org/packages/tidymass/","publishdate":"2020-01-20T00:00:00Z","relpermalink":"/packages/tidymass/","section":"packages","summary":"","tags":["Metabolomics"],"title":"tidyMass","type":"packages"}]